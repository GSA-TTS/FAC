###
GET http://localhost:3000/audit_access
// Have to use the JWT when testing locally.
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}     
accept-profile: admin_api_v1_0_0

###
GET http://localhost:3000/singleauditchecklist
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}     
accept-profile: admin_api_v1_0_0


###
GET http://localhost:3000/singleauditchecklist
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}     
accept-profile: admin_api_v1_0_0
x-api-roles: "fac_gov_admin_access"


###
// This should list everything using a view.
GET http://localhost:3000/tribal_access
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}     
accept-profile: admin_api_v1_0_0
x-api-roles: "fac_gov_admin_access"
X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc


###
// Call the RPC to add access
POST http://localhost:3000/rpc/add_tribal_access_email
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
content-profile: admin_api_v1_0_0
content-type: application/json 
Prefer: params=single-object
x-api-roles: "fac_gov_admin_access"
// Not actually a key UUID.
X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

{
    "email": "darth.vader@deathstar.org"
}

### 
// Call the RPC to remove access
POST http://localhost:3000/rpc/remove_tribal_access_email
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
content-profile: admin_api_v1_0_0
content-type: application/json 
Prefer: params=single-object
x-api-roles: "fac_gov_admin_access"
// Not actually a key UUID.
X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

{
    "email": "darth.vader@deathstar.org"
}


### 
// Call the RPC to remove access
POST http://localhost:3000/rpc/remove_tribal_access_emails
authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
content-profile: admin_api_v1_0_0
content-type: application/json 
Prefer: params=single-object
x-api-roles: "fac_gov_admin_access"
// Not actually a key UUID.
X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

{
    "emails": [
        "darth.vader@deathstar.org",
        "bob.darth.vader@deathstar.org",
        "darthy.vader@deathstar.org",
        "bob@deathstar.org"
    ]
}


# ###
# // This should delete if the view has delete privs
# DELETE http://localhost:3000/tribal_access?email=eq.darth.vader@deathstar.org
# authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
# content-profile: admin_api_v1_0_0
# content-type: application/json 
# Prefer: params=single-object
# x-api-roles: "fac_gov_admin_access"
# // Not actually a key UUID.
# X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc


# ###
# // Does this delete the entire table?
# // Yes, yes it does.
# DELETE http://localhost:3000/tribal_access
# authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
# content-profile: admin_api_v1_0_0
# content-type: application/json 
# Prefer: params=single-object
# x-api-roles: "fac_gov_admin_access"
# // Not actually a key UUID.
# X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc


# ###
# // Insert via view?
# POST http://localhost:3000/tribal_access
# authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
# content-profile: admin_api_v1_0_0
# content-type: application/json 
# Prefer: params=single-object
# x-api-roles: "fac_gov_admin_access"
# // Not actually a key UUID.
# X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

# {
#     "email": "darth.vader@deathstar.org",
#     "permission_id": 1
# }



# ###
# // Update a record
# PATCH http://localhost:3000/tribal_access?email=eq.darth.vader2@deathstar.org
# authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
# content-profile: admin_api_v1_0_0
# content-type: application/json 
# Prefer: params=single-object
# x-api-roles: "fac_gov_admin_access"
# // Not actually a key UUID.
# X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

# {
#     "email": "darth.vader@deathstar.org",
#     "permission_id": 1
# }

# ###
# // Update a record
# // This updates all records to this value.
# PATCH http://localhost:3000/tribal_access
# authorization: Bearer {{$processEnv CYPRESS_API_GOV_JWT}}
# content-profile: admin_api_v1_0_0
# content-type: application/json 
# Prefer: params=single-object
# x-api-roles: "fac_gov_admin_access"
# // Not actually a key UUID.
# X-Api-User-Id: 18ef0e72-8976-11ee-ad35-3f80b454d3cc

# {
#     "email": "darth.vader@deathstar.org",
#     "permission_id": 1
# }

// Based on this experimentation, views should be READ ONLY.
