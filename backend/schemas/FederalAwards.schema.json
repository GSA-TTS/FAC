{
   "$schema": "https://json-schema.org/draft/2019-09/schema#",
   "additionalProperties": false,
   "metamodel_version": "1.7.0",
   "properties": {
      "FederalAward": {
         "additionalProperties": false,
         "properties": {
            "auditee_uei": {
               "type": [
                  "string",
                  "null"
               ]
            },
            "federal_awards": {
               "items": {
                  "additionalProperties": false,
                  "description": "Award entry rows",
                  "properties": {
                     "amount_expended": {
                        "minimum": 0,
                        "type": "number"
                     },
                     "cluster": {
                        "name": {
                           "description": "Cluster Name",
                           "enum": [
                              "N/A",
                              "RESEARCH AND DEVELOPMENT",
                              "STUDENT FINANCIAL ASSISTANCE",
                              "STATE CLUSTER",
                              "477 CLUSTER",
                              "AGING CLUSTER",
                              "CCDF CLUSTER",
                              "CDBG - DISASTER RECOVERY GRANTS - PUB. L. NO. 113-2 CLUSTER",
                              "CDBG - ENTITLEMENT GRANTS CLUSTER",
                              "CDFI CLUSTER",
                              "CHILD NUTRITION CLUSTER",
                              "CLEAN WATER STATE REVOLVING FUND CLUSTER",
                              "COMMUNITY FACILITIES LOANS AND GRANTS CLUSTER",
                              "DISABILITY INSURANCE/SSI CLUSTER",
                              "DRINKING WATER STATE REVOLVING FUND CLUSTER",
                              "ECONOMIC DEVELOPMENT CLUSTER",
                              "EMPLOYMENT SERVICE CLUSTER",
                              "FEDERAL TRANSIT CLUSTER",
                              "FISH AND WILDLIFE CLUSTER",
                              "FOOD DISTRIBUTION CLUSTER",
                              "FOREIGN FOOD AID DONATION CLUSTER",
                              "FOREST SERVICE SCHOOLS AND ROADS CLUSTER",
                              "FOSTER GRANDPARENT/SENIOR COMPANION CLUSTER",
                              "HEAD START CLUSTER",
                              "HEALTH CENTER PROGRAM CLUSTER",
                              "HIGHWAY PLANNING AND CONSTRUCTION CLUSTER",
                              "HIGHWAY SAFETY CLUSTER",
                              "HOPE VI CLUSTER",
                              "HOUSING VOUCHER CLUSTER",
                              "HURRICANE SANDY RELIEF CLUSTER",
                              "MATERNAL, INFANT, AND EARLY CHILDHOOD HOME VISITING CLUSTER",
                              "MEDICAID CLUSTER",
                              "SCHOOL IMPROVEMENT GRANTS CLUSTER",
                              "SECTION 8 PROJECT-BASED CLUSTER",
                              "SNAP CLUSTER",
                              "SPECIAL EDUCATION CLUSTER (IDEA)",
                              "TANF CLUSTER",
                              "TRANSIT SERVICES PROGRAMS CLUSTER",
                              "TRIO CLUSTER",
                              "WATER AND WASTE PROGRAM CLUSTER",
                              "WIOA CLUSTER",
                              "OTHER CLUSTER NOT LISTED ABOVE"
                           ],
                           "title": "ClusterName",
                           "type": "string"
                        },
                        "total": {
                           "type": "number"
                        },
                        "type": "object"
                     },
                     "direct_or_indirect_award": {
                        "additionalProperties": false,
                        "allOf": [
                           {
                              "if": {
                                 "properties": {
                                    "is_direct": {
                                       "const": "Y"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "entities": {
                                       "description": "Empty string, empty array, or null",
                                       "enum": [
                                          "",
                                          [ ],
                                          "null"
                                       ],
                                       "title": "EmptyString_Null"
                                    }
                                 }
                              }
                           },
                           {
                              "if": {
                                 "properties": {
                                    "is_direct": {
                                       "const": "N"
                                    }
                                 }
                              },
                              "then": {
                                 "required": [
                                    "entities"
                                 ]
                              }
                           }
                        ],
                        "description": "If direct_award is N, the form must include a list of the pass-through entity by name and identifying number",
                        "properties": {
                           "entities": {
                              "items": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "identifying_number": {
                                       "minLength": 1,
                                       "type": "string"
                                    },
                                    "name": {
                                       "type": "string"
                                    }
                                 },
                                 "required": [
                                    "name",
                                    "identifying_number"
                                 ],
                                 "type": "object"
                              },
                              "type": "array"
                           },
                           "is_direct": {
                              "enum": [
                                 "Y",
                                 "N"
                              ],
                              "type": "string"
                           }
                        },
                        "type": "object"
                     },
                     "loan_or_loan_guarantee": {
                        "additionalProperties": false,
                        "allOf": [
                           {
                              "if": {
                                 "properties": {
                                    "is_guaranteed": {
                                       "const": "Y"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "loan_balance_at_audit_period_end": {
                                       "anyOf": [
                                          {
                                             "minimum": 1,
                                             "type": "integer"
                                          },
                                          {
                                             "enum": [
                                                "N/A"
                                             ],
                                             "title": "N/A",
                                             "type": "string"
                                          }
                                       ]
                                    }
                                 },
                                 "required": [
                                    "loan_balance_at_audit_period_end"
                                 ]
                              }
                           },
                           {
                              "if": {
                                 "properties": {
                                    "is_guaranteed": {
                                       "const": "N"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "loan_balance_at_audit_period_end": {
                                       "description": "Empty string, zero, or null expected.",
                                       "enum": [
                                          "",
                                          0,
                                          "null"
                                       ],
                                       "title": "EmptyString_Zero_Null"
                                    }
                                 }
                              }
                           }
                        ],
                        "description": "A loan or loan guarantee and balance",
                        "properties": {
                           "is_guaranteed": {
                              "enum": [
                                 "Y",
                                 "N"
                              ],
                              "type": "string"
                           },
                           "loan_balance_at_audit_period_end": {
                              "type": [
                                 "number",
                                 "string"
                              ]
                           }
                        },
                        "required": [
                           "is_guaranteed"
                        ],
                        "type": "object"
                     },
                     "program": {
                        "additionalProperties": false,
                        "allOf": [
                           {
                              "if": {
                                 "properties": {
                                    "is_major": {
                                       "const": "Y"
                                    }
                                 }
                              },
                              "then": {
                                 "else": {
                                    "properties": {
                                       "audit_report_type": {
                                          "description": "Major program report types",
                                          "enum": [
                                             "U",
                                             "Q",
                                             "A",
                                             "D"
                                          ],
                                          "title": "MajorProgramAuditReportType",
                                          "type": "string"
                                       },
                                       "number_of_audit_findings": {
                                          "const": 0,
                                          "type": "integer"
                                       }
                                    }
                                 },
                                 "if": {
                                    "properties": {
                                       "audit_report_type": {
                                          "anyOf": [
                                             {
                                                "const": "A"
                                             },
                                             {
                                                "const": "Q"
                                             }
                                          ]
                                       }
                                    }
                                 },
                                 "then": {
                                    "properties": {
                                       "number_of_audit_findings": {
                                          "exclusiveMinimum": 0,
                                          "type": "integer"
                                       }
                                    }
                                 }
                              }
                           },
                           {
                              "if": {
                                 "properties": {
                                    "is_major": {
                                       "const": "N"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "audit_report_type": {
                                       "description": "Empty string or null",
                                       "enum": [
                                          "",
                                          "null"
                                       ],
                                       "title": "EmptyString_Null"
                                    },
                                    "number_of_audit_findings": {
                                       "const": 0
                                    }
                                 }
                              }
                           }
                        ],
                        "properties": {
                           "amount_expended": {
                              "type": "number"
                           },
                           "audit_report_type": {
                              "type": "string"
                           },
                           "is_major": {
                              "enum": [
                                 "Y",
                                 "N"
                              ],
                              "type": "string"
                           },
                           "name": {
                              "type": "string"
                           },
                           "number": {
                              "description": "Program number",
                              "pattern": "^[1-9]{1}[0-9]{1}\\.([0-9]{3}[a-zA-Z]{0,1}|U[0-9]{2}|RD)$",
                              "title": "ProgramNumber",
                              "type": "string"
                           },
                           "number_of_audit_findings": {
                              "type": "integer"
                           }
                        },
                        "required": [
                           "name",
                           "number",
                           "is_major",
                           "audit_report_type",
                           "number_of_audit_findings"
                        ],
                        "type": "object"
                     },
                     "state_cluster": {
                        "additionalProperties": false,
                        "allOf": [
                           {
                              "if": {
                                 "properties": {
                                    "is_cluster": {
                                       "const": "N"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "name": {
                                       "description": "Empty string or null",
                                       "enum": [
                                          "",
                                          "null"
                                       ],
                                       "title": "EmptyString_Null"
                                    }
                                 }
                              }
                           }
                        ],
                        "properties": {
                           "is_cluster": {
                              "enum": [
                                 "Y",
                                 "N"
                              ],
                              "type": "string"
                           },
                           "name": {
                              "type": "string"
                           }
                        },
                        "required": [
                           "is_cluster",
                           "name"
                        ],
                        "type": "object"
                     },
                     "subrecipients": {
                        "additionalProperties": false,
                        "allOf": [
                           {
                              "if": {
                                 "properties": {
                                    "is_passed": {
                                       "const": "Y"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "amount": {
                                       "type": "integer"
                                    }
                                 },
                                 "required": [
                                    "amount"
                                 ]
                              }
                           },
                           {
                              "if": {
                                 "properties": {
                                    "is_passed": {
                                       "const": "N"
                                    }
                                 }
                              },
                              "then": {
                                 "properties": {
                                    "amount": {
                                       "description": "Empty string, zero, or null expected.",
                                       "enum": [
                                          "",
                                          0,
                                          "null"
                                       ],
                                       "title": "EmptyString_Zero_Null"
                                    }
                                 }
                              }
                           }
                        ],
                        "properties": {
                           "amount": {
                              "type": [
                                 "number",
                                 "string"
                              ]
                           },
                           "is_passed": {
                              "enum": [
                                 "Y",
                                 "N"
                              ],
                              "type": "string"
                           }
                        },
                        "type": "object"
                     }
                  },
                  "required": [
                     "cluster",
                     "state_cluster",
                     "direct_or_indirect_award",
                     "loan_or_loan_guarantee",
                     "program",
                     "subrecipients"
                  ],
                  "title": "FederalAwardEntry",
                  "type": "object"
               },
               "type": "array"
            },
            "total_amount_expended": {
               "minimum": 0,
               "type": "number"
            }
         },
         "required": [
            "auditee_uei",
            "total_amount_expended",
            "federal_awards"
         ],
         "title": "FederalAward",
         "type": "object",
         "version": 20230408
      }
   },
   "title": "UNNAMED",
   "type": "object",
   "version": 20230408
}
